<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#f8f2eb]">

<div class="container mx-auto p-6">

   <!-- Stats Cards -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-[#c69858] transform transition duration-300 hover:scale-105 hover:shadow-lg">
        <h3 class="text-[#5a4630]">Total Images</h3>
        <p class="text-2xl font-bold text-[#5a4630]"><%= images.length %></p>
    </div>
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-[#c69858] transform transition duration-300 hover:scale-105 hover:shadow-lg">
        <h3 class="text-[#5a4630]">Total Services</h3>
        <p class="text-2xl font-bold text-[#5a4630]"><%= services.length %></p>
    </div>
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-[#c69858] transform transition duration-300 hover:scale-105 hover:shadow-lg">
        <h3 class="text-[#5a4630]">Customers</h3>
        <p class="text-2xl font-bold text-[#5a4630]"><%= customers.length %></p>
    </div>
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-[#c69858] transform transition duration-300 hover:scale-105 hover:shadow-lg">
        <h3 class="text-[#5a4630]">Staff</h3>
        <p class="text-2xl font-bold text-[#5a4630]"><%= staffList.length %></p>
    </div>
</div>

<!-- Appointments Table -->
<div class="bg-white p-6 rounded-lg shadow overflow-x-auto">
    <h3 class="text-lg font-bold mb-4 text-[#c69858]">Recent Appointments</h3>
    <table class="table-auto w-full min-w-[600px]" id="bookingTable">
        <thead>
            <tr class="bg-[#f3e6d6] text-left text-[#5a4630]">
                <th class="px-4 py-2">Customer</th>
                <th class="px-4 py-2">Service</th>
                <th class="px-4 py-2">Date</th>
                <th class="px-4 py-2">Time</th>
            </tr>
        </thead>
        <tbody>
            <% if (bookings.length === 0) { %>
                <tr>
                    <td colspan="4" class="px-4 py-2 text-center text-gray-500">No appointments found.</td>
                </tr>
            <% } else { %>
                <% bookings.forEach(booking => { %>
                    <tr class="border-b last:border-b-0 text-[#5a4630]">
                        <td class="px-4 py-2 font-bold customer-name"><%= booking.customer ? booking.customer.name : 'N/A' %></td>
                        <td class="px-4 py-2 service-name"><%= booking.serviceId ? booking.serviceId.name : 'N/A' %></td>
                        <td class="px-4 py-2"><%= booking.date.toLocaleDateString('en-GB') %></td>
                        <td class="px-4 py-2"><%= booking.time %></td>
                    </tr>
                <% }) %>
            <% } %>
        </tbody>
    </table>
</div>
