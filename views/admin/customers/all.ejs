<div class="space-y-6 p-2 md:p-6">   
    <!-- Header + Search -->
    <div class="flex flex-col md:flex-row justify-between items-center bg-[#f8f2eb] p-4 rounded-lg shadow space-y-4 md:space-y-0 md:space-x-6">

        <!-- Heading + Total Customers -->
        <div class="flex flex-col items-center md:flex-row md:items-center md:space-x-4 w-full md:w-auto">
            <h2 class="text-xl md:text-2xl font-bold text-[#c69858] mr-0 md:mr-6">Customers</h2>
            <div class="flex flex-col items-center md:flex-row md:items-center md:space-x-2 mt-1 md:mt-0">
                <h3 class="text-[#5a4630] text-sm md:text-base">Total Customers:</h3>
                <p class="text-2xl md:text-3xl font-bold text-[#5a4630]"><%= stats.total %></p>
            </div>
        </div>

        <!-- Search Box with Font Awesome -->
        <div class="relative w-full md:w-64">
            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-[#5a4630]">
                <i class="fas fa-search"></i>
            </span>
            <input id="searchInput" type="text" placeholder="Search customer..."
                   class="border border-[#c69858] rounded-lg px-10 py-2 w-full focus:outline-none focus:ring-2 focus:ring-[#c69858]" />
        </div>

    </div>

    <!-- Customers Table -->
    <div class="bg-white p-4 md:p-6 rounded-lg shadow overflow-x-auto">
        <h3 class="text-lg md:text-xl font-bold mb-4 text-[#c69858]">Customer List</h3>
        <table id="customerTable" class="table-auto w-full min-w-[600px]">
            <thead>
                <tr class="bg-[#f3e6d6] text-left text-[#5a4630]">
                    <th class="px-4 py-2">Name</th>
                    <th class="px-4 py-2">Email</th>
                    <th class="px-4 py-2">Phone</th>
                </tr>
            </thead>
            <tbody>
                <% customers.forEach(function(customer) { %>
                    <tr class="border-b last:border-b-0 text-[#5a4630]">
                        <td class="px-4 py-2 font-bold customer-name"><%= customer.name %></td>
                        <td class="px-4 py-2 customer-email"><%= customer.email %></td>
                        <td class="px-4 py-2 customer-phone"><%= customer.phone %></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>

<script>
    const searchInput = document.getElementById('searchInput');
    const table = document.getElementById('customerTable');
    const rows = table.querySelectorAll('tbody tr');

    searchInput.addEventListener('input', function() {
        const query = this.value.toLowerCase();

        rows.forEach(row => {
            const name = row.querySelector('.customer-name').textContent.toLowerCase();
            const email = row.querySelector('.customer-email').textContent.toLowerCase();
            const phone = row.querySelector('.customer-phone').textContent.toLowerCase();

            row.style.display = (name.includes(query) || email.includes(query) || phone.includes(query)) ? '' : 'none';
        });
    });
</script>
